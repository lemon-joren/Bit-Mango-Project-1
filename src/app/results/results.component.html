<div *ngIf="!showResults" class="mainContainer">
    <section *ngIf="resultExist; else elseBlock">
        <h1 class="heading">Estimate of your project</h1>
  <mat-card class="priceEstimate">{{minPrice | currency}} - {{maxPrice | currency}}</mat-card>
    <mat-expansion-panel class="sectionCard" *ngFor="let currentSectionAnswers of sectionWithAnswers;index as i" [expanded]="step === i" (opened)="setStep(i)" hideToggle>
      <mat-expansion-panel-header class="sectionName">{{currentSectionAnswers.sectionName}}</mat-expansion-panel-header>
      <mat-panel-description class="questionList" *ngIf="currentSectionAnswers.answers.length>0;else answersNotFound">
        <mat-card *ngFor="let ans of currentSectionAnswers.answers" class="questionTemplate">
          <div class="questionText">{{ans.question}}</div>
          <mat-card-content>
            <mat-chip-list class="optionList">
              <mat-chip *ngFor="let opt of ans.options" class="optionChip">{{opt.optionText}}</mat-chip>
            </mat-chip-list>
          </mat-card-content>
        </mat-card>
      </mat-panel-description>
      <ng-template #answersNotFound>
        <mat-panel-description>
          <mat-card class="errorMessage">
            <mat-card-content>You haven't attempted questions from {{currentSectionAnswers.sectionName}}</mat-card-content>
          </mat-card>
        </mat-panel-description>
      </ng-template>
      <mat-action-row>
        <button mat-raised-button *ngIf="step!=0" (click)="prevStep()" id="prevButton">Previous Section</button>
        <button mat-raised-button *ngIf="step!=sectionWithAnswers.length-1" (click)="nextStep()" id="nextButton">Next Section</button>
      </mat-action-row>
    </mat-expansion-panel>
    </section>
    <ng-template #elseBlock>
      <mat-card>
    <h1 class="heading">You skipped all sections</h1>
    </mat-card>
    </ng-template>
    
</div>


